<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi Perfil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;800&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Outfit', sans-serif;
      background-image: url('https://media.istockphoto.com/id/184600243/photo/coral-reef-roatan-honduras.jpg?s=612x612&w=0&k=20&c=-tvn8IxjLPQnW-NWD2cqKaR7ZXRY0X2OFh2cIvfiqh4=');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
      color: #1f2937;
    }
    .bg-blur {
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(6px);
      border-radius: 1rem;
      padding: 2rem;
    }
    /* Men√∫ responsive */
    #menu-toggle {
      display: none;
    }
    .menu-icon {
      display: none;
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      color: white;
    }
    @media (max-width: 767px) {
      .menu-icon {
        display: block;
      }
      nav ul {
        display: none;
        flex-direction: column;
        background: rgba(0, 0, 0, 0.85);
        position: absolute;
        top: 60px;
        right: 0;
        left: 0;
        padding: 1rem 0;
        border-top: 1px solid #facc15;
      }
      #menu-toggle:checked + label + ul {
        display: flex;
      }
    }
  </style>
</head>
<body class="text-gray-800">

  <!-- Navbar -->
  <header id="main-header" class="fixed top-0 left-0 w-full z-50 bg-transparent transition-colors duration-300">
    <nav class="flex flex-wrap justify-center items-center px-4 md:px-6 py-4 text-white relative gap-2 md:gap-6">
      <input type="checkbox" id="menu-toggle" class="hidden" />
      <label for="menu-toggle" class="menu-icon md:hidden ml-auto">&#9776;</label>
  
      <ul class="hidden md:flex font-medium text-sm md:text-base items-center space-x-4 md:space-x-6">
        <li><a href="index.html" class="hover:text-yellow-300 transition">Inicio</a></li>
        <li><a href="tours.html" class="hover:text-yellow-300 transition">Tours</a></li>
        <li><a href="galeria.html" class="hover:text-yellow-300 transition">Galer√≠a</a></li>
        <li><a href="mapa.html" class="hover:text-yellow-300 transition">Mapa</a></li>
        <li><a href="sobrenosotros.html" class="hover:text-yellow-300 transition">Sobre Nosotros</a></li>
        <li><a href="misreservas.html" class="hover:text-yellow-300 transition">Mis Reservas</a></li>
        <li><a href="contacto.html" class="hover:text-yellow-300 transition">Contacto</a></li>
        <li><a href="calendario.html" class="hover:text-yellow-300 transition">Calendario</a></li>
      </ul>
    </nav>
  </header>

  <script>
    const header = document.getElementById('main-header');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header.classList.add('bg-black', 'bg-opacity-30');
      } else {
        header.classList.remove('bg-black', 'bg-opacity-30');
      }
    });
  </script>

  <!-- Contenido del perfil -->
  <section class="bg-blur mt-32 mx-4 md:mx-20 text-center shadow-md rounded-lg p-6 relative">
    <h1 class="text-4xl font-extrabold tracking-tight text-teal-800 mb-4">Mi Perfil</h1>
    <div class="flex flex-col items-center relative">
      <img id="profile-photo" src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Foto de perfil" class="w-32 h-32 rounded-full border-4 border-teal-600 shadow-lg mb-4 object-cover">

      <!-- Botones para cambiar o quitar foto -->
      <div class="flex space-x-4 mb-4">
        <label for="photo-upload" class="cursor-pointer bg-teal-600 text-white py-1 px-3 rounded hover:bg-teal-500 transition">
          Cambiar Foto
        </label>
        <button id="remove-photo-btn" class="bg-red-600 text-white py-1 px-3 rounded hover:bg-red-500 transition" type="button">
          Quitar Foto
        </button>
      </div>

      <input type="file" id="photo-upload" accept="image/*" class="hidden" />

      <!-- Nombre y correo din√°micos -->
      <h2 id="user-name" class="text-2xl font-semibold">Nombre del Usuario</h2>
      <p id="user-email" class="text-gray-700">usuario@correo.com</p>
    </div>
  </section>

  <!-- Opciones de perfil -->
  <section class="py-12 px-4 md:px-20">
    <div class="max-w-3xl mx-auto bg-blur shadow-lg rounded-lg p-6 space-y-4">
      <h2 class="text-xl font-bold text-teal-700 mb-4">Opciones de Cuenta</h2>
      <ul class="space-y-3">
        <li><a href="editar-perfil.html" class="block bg-teal-600 text-white py-2 px-4 rounded hover:bg-teal-500">‚úèÔ∏è Editar Perfil</a></li>
        <li><a href="seguridad.html" class="block bg-teal-600 text-white py-2 px-4 rounded hover:bg-teal-500">üîí Seguridad y Contrase√±a</a></li>
        <li><a href="preferencias.html" class="block bg-teal-600 text-white py-2 px-4 rounded hover:bg-teal-500">‚öôÔ∏è Configuraci√≥n</a></li>
        <li><a href="misreservas.html" class="block bg-teal-600 text-white py-2 px-4 rounded hover:bg-teal-500">üìÖ Mis Reservas</a></li>
        <li><a href="historial.html" class="block bg-teal-600 text-white py-2 px-4 rounded hover:bg-teal-500">üìú Historial de Actividad</a></li>
        <li><a href="ayuda.html" class="block bg-teal-600 text-white py-2 px-4 rounded hover:bg-teal-500">‚ùì Ayuda y Soporte</a></li>
        <li><a href="logout.html" class="block bg-red-600 text-white py-2 px-4 rounded hover:bg-red-500">üö™ Cerrar Sesi√≥n</a></li>
      </ul>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-teal-700 text-white text-center py-6 mt-12 rounded-t-lg">
    <p class="text-sm">&copy; 2025 Capt. Wayne Charters. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Funci√≥n para poner la primera letra de cada palabra en may√∫scula
    function capitalizeWords(str) {
      return str.replace(/\b\w/g, c => c.toUpperCase());
    }

    // Referencias DOM
    const profilePhoto = document.getElementById('profile-photo');
    const userName = document.getElementById('user-name');
    const userEmail = document.getElementById('user-email');
    const photoUpload = document.getElementById('photo-upload');
    const removePhotoBtn = document.getElementById('remove-photo-btn');

    // Funci√≥n para cargar datos de usuario guardados en localStorage
    function cargarDatosUsuario() {
      const name = localStorage.getItem('userName');
      const email = localStorage.getItem('userEmail');
      const photo = localStorage.getItem('userPhoto');

      if(name) userName.textContent = capitalizeWords(name);
      if(email) userEmail.textContent = email;
      if(photo) profilePhoto.src = photo;
    }

    // Funci√≥n para guardar foto en localStorage como base64
    function guardarFotoBase64(base64) {
      try {
        localStorage.setItem('userPhoto', base64);
      } catch(e) {
        console.warn("No se pudo guardar la foto en localStorage", e);
      }
    }

    // Al cargar la p√°gina
    window.addEventListener('DOMContentLoaded', cargarDatosUsuario);

    // Cambiar foto y guardar en localStorage
    photoUpload.addEventListener('change', e => {
      const file = e.target.files[0];
      if(file){
        const reader = new FileReader();
        reader.onload = function(evt){
          profilePhoto.src = evt.target.result;
          guardarFotoBase64(evt.target.result);
        }
        reader.readAsDataURL(file);
      }
    });

    // Quitar foto y borrar de localStorage
    removePhotoBtn.addEventListener('click', () => {
      profilePhoto.src = "https://cdn-icons-png.flaticon.com/512/3135/3135715.png";
      photoUpload.value = null;
      localStorage.removeItem('userPhoto');
    });

  </script>

<body data-page="Perfil">

</body>
</html>
