<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Configuración</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;600;800&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Outfit', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s, color 0.3s;
      background-image: url('https://media.istockphoto.com/id/184600243/photo/coral-reef-roatan-honduras.jpg?s=612x612&w=0&k=20&c=-tvn8IxjLPQnW-NWD2cqKaR7ZXRY0X2OFh2cIvfiqh4=');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
    }

    /* Temas */
    body.light {
      background-color: rgba(255,255,255,0.8);
      color: #1f2937;
    }

    body.dark {
      background-color: rgba(31,41,55,0.8);
      color: #f3f4f6;
    }

    .bg-blur {
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(6px);
      border-radius: 1rem;
      padding: 2rem;
      max-width: 600px;
      margin: 4rem auto 2rem auto;
      box-shadow: 0 4px 20px rgb(0 0 0 / 0.1);
      width: 90%;
      transition: background 0.3s, color 0.3s;
    }

    body.dark .bg-blur {
      background: rgba(31,41,55,0.7);
      color: #f3f4f6;
    }

    select, input, textarea {
      transition: background-color 0.3s, color 0.3s, border-color 0.3s;
    }

    body.dark select, body.dark input, body.dark textarea {
      background-color: #374151;
      color: #f3f4f6;
      border-color: #4b5563;
    }

    footer {
      transition: background-color 0.3s;
    }

    body.light footer {
      background-color: #0d9488;
    }

    body.dark footer {
      background-color: #065f5d;
    }
  </style>
</head>
<body>

  <section class="bg-blur">
    <h1 class="text-3xl font-bold text-teal-700 mb-6 text-center">Configuración de Preferencias</h1>

    <form id="settingsForm" class="space-y-6">

      <!-- Tema -->
   

      <!-- Zona horaria -->
      <label class="block">
        <span class="text-gray-700 font-semibold">Zona Horaria</span>
        <select class="mt-1 block w-full border rounded p-2" name="timezone">
          <option value="GMT-6">GMT -6 (Central America)</option>
          <option value="GMT-5">GMT -5 (Eastern America)</option>
          <option value="GMT-4">GMT -4 (Atlantic America)</option>
          <option value="GMT+1">GMT +1 (Central Europe)</option>
          <option value="GMT+0">GMT 0 (UTC)</option>
        </select>
      </label>

      <!-- Formato de fecha y hora -->
      <fieldset class="space-y-2">
        <legend class="text-lg font-semibold text-gray-700">Formato de Fecha y Hora</legend>
        <label class="flex items-center space-x-3">
          <input type="radio" name="timeFormat" value="12h" class="form-radio text-teal-600" />
          <span>12 horas</span>
        </label>
        <label class="flex items-center space-x-3">
          <input type="radio" name="timeFormat" value="24h" class="form-radio text-teal-600" />
          <span>24 horas</span>
        </label>

        <label class="block mt-2">
          <span class="text-gray-700 font-semibold">Formato de Fecha</span>
          <select class="mt-1 block w-full border rounded p-2" name="dateFormat">
            <option value="DD/MM/YYYY">DD/MM/AAAA</option>
            <option value="MM/DD/YYYY">MM/DD/AAAA</option>
            <option value="YYYY/MM/DD">AAAA/MM/DD</option>
          </select>
        </label>
      </fieldset>

      <!-- Sincronización -->
      <fieldset class="space-y-2">
        <legend class="text-lg font-semibold text-gray-700">Sincronización</legend>
        <label class="flex items-center space-x-2">
          <input type="checkbox" class="form-checkbox text-teal-600" name="syncDevices" />
          <span>Sincronizar con otros dispositivos</span>
        </label>
      </fieldset>

      <button type="submit" class="w-full bg-teal-600 text-white py-2 rounded hover:bg-teal-500 transition">
        Guardar Configuración
      </button>
    </form>

    <a href="perfil.html" class="block mt-6 text-teal-700 hover:underline text-center">← Volver a Mi Perfil</a>
  </section>

  <footer class="text-white text-center py-6 mt-auto rounded-t-lg w-full">
    <p class="text-sm">&copy; 2025 Capt. Wayne Charters. Todos los derechos reservados.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("settingsForm");
      const body = document.body;

      // Cargar configuración guardada
      const savedSettings = JSON.parse(localStorage.getItem("userSettings")) || {};

      // Aplicar tema guardado al cargar
      if(savedSettings.theme){
        body.classList.add(savedSettings.theme);
        const themeRadio = form.querySelector(`[name="theme"][value="${savedSettings.theme}"]`);
        if(themeRadio) themeRadio.checked = true;
      } else {
        body.classList.add('light'); // default
      }

      // Rellenar otros campos guardados
      for (const [key, value] of Object.entries(savedSettings)) {
        if(key === "theme") continue;
        const input = form.querySelector(`[name="${key}"]`);
        if (input) {
          if (input.type === "radio" || input.type === "checkbox") {
            const inputs = form.querySelectorAll(`[name="${key}"]`);
            inputs.forEach(i => {
              if (i.type === "checkbox") i.checked = value;
              else i.checked = i.value === value;
            });
          } else {
            input.value = value;
          }
        }
      }

      // Cambiar tema en tiempo real al seleccionar
      form.querySelectorAll('[name="theme"]').forEach(radio => {
        radio.addEventListener('change', e => {
          body.classList.remove('light', 'dark');
          body.classList.add(e.target.value);
        });
      });

      // Guardar configuración al enviar
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        const settings = {};
        formData.forEach((val, key) => {
          const input = form.querySelector(`[name="${key}"]`);
          if (input.type === "checkbox") settings[key] = input.checked;
          else settings[key] = val;
        });
        localStorage.setItem("userSettings", JSON.stringify(settings));
        alert("Configuración guardada correctamente.");
      });
    });
  </script>

</body>
</html>
