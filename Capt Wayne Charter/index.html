<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Roatán Tours | Capt. Wayne Charters</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; }
    .fade-in-up { animation: fadeInUp 1.2s ease-out forwards; }
    @keyframes fadeInUp { from { opacity:0; transform: translateY(30px);} to { opacity:1; transform:translateY(0);} }

    /* Menú hamburguesa */
    .menu-icon { display: none; font-size:28px; cursor:pointer; user-select:none; color:white; }
    .profile-btn { display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:999px; background:transparent; border:none; cursor:pointer; color:white; }
    .profile-dropdown { display:none; position:absolute; right:0; margin-top:8px; background:rgb(23,18,18); color:#111827; min-width:180px; box-shadow:0 6px 20px rgba(0,0,0,0.15); border-radius:8px; overflow:hidden; z-index:50; }
    .profile-dropdown a, .profile-dropdown button { display:block; padding:10px 14px; font-size:14px; text-decoration:none; color:inherit; background:transparent; border:none; text-align:left; width:100%; cursor:pointer; }
    .profile-dropdown a:hover, .profile-dropdown button:hover { background:#f3f4f6; }
    .profile-container { position:relative; }

    /* Móvil */
    @media (max-width:767px) {
      .menu-icon { display:block; }
      #main-menu { display:none; flex-direction:column; gap:0.5rem; background:rgba(0,0,0,0.85); position:absolute; top:100%; left:0; width:100%; padding:1rem 0; z-index:9999; align-items:center; }
      #menu-toggle:checked ~ #main-menu { display:flex; }
      #main-menu li a, #main-menu li button { display:block; text-align:center; }
    }

    /* Desktop */
    @media (min-width:768px) { #main-menu { justify-content:center; } }

    /* Carrusel rectangular sin estirar */
    #carousel { overflow:hidden; border-radius:0.5rem; max-height:350px; }
    #carousel-inner { display:flex; transition: transform 0.5s ease-in-out; height:100%; }
    #carousel-inner img { width:100%; flex-shrink:0; height:100%; object-fit:cover; }
  </style>
</head>
<body class="text-white scroll-smooth">

  <!-- Header y menú -->
  <header class="fixed top-0 left-0 w-full z-50 bg-transparent">
    <nav class="flex justify-center md:justify-center items-center px-4 md:px-6 py-4 text-white relative gap-2 md:gap-6">
      <input type="checkbox" id="menu-toggle" class="hidden" />
      <label for="menu-toggle" class="menu-icon md:hidden absolute left-4">&#9776;</label>

      <ul id="main-menu" class="hidden md:flex flex-col md:flex-row font-medium text-sm md:text-base items-center space-y-2 md:space-y-0 md:space-x-6 absolute md:static top-full left-0 w-full md:w-auto bg-black/90 md:bg-transparent px-4 py-4 md:p-0">
        <li><a href="index.html" class="hover:text-yellow-300 transition block text-center md:inline">Inicio</a></li>
        <li><a href="tours.html" class="hover:text-yellow-300 transition block text-center md:inline">Tours</a></li>
        <li><a href="galeria.html" class="hover:text-yellow-300 transition block text-center md:inline">Galería</a></li>
        <li><a href="mapa.html" class="hover:text-yellow-300 transition block text-center md:inline">Mapa</a></li>
        <li><a href="sobrenosotros.html" class="hover:text-yellow-300 transition block text-center md:inline">Sobre Nosotros</a></li>
        <li><a href="misreservas.html" class="hover:text-yellow-300 transition block text-center md:inline">Mis Reservas</a></li>
        <li><a href="contacto.html" class="hover:text-yellow-300 transition block text-center md:inline">Contacto</a></li>
        <li><a href="calendario.html" class="hover:text-yellow-300 transition block text-center md:inline">Calendario</a></li>
        <li>
          <a href="carrito.html" class="relative flex items-center justify-center hover:text-yellow-400 transition">
            🛒 <span class="ml-1">Carrito</span>
            <span id="cart-count" class="ml-1 bg-yellow-400 text-xs text-black px-2 py-0.5 rounded-full">0</span>
          </a>
        </li>
        <li id="li-register">
          <a href="registro.html" id="register-link" class="bg-yellow-400 text-gray-900 px-4 py-2 rounded-full font-semibold hover:bg-yellow-300 transition whitespace-nowrap block text-center md:inline">
            Registrarse
          </a>
        </li>
      </ul>
    </nav>
  </header>

  <!-- Sección Inicio con carrusel -->
  <section id="inicio" class="relative min-h-screen bg-cover bg-center pb-12 pt-32" style="background-image:url('https://media.istockphoto.com/id/184600243/photo/coral-reef-roatan-honduras.jpg?s=612x612&w=0&k=20&c=-tvn8IxjLPQnW-NWD2cqKaR7ZXRY0X2OFh2cIvfiqh4=');">
    <div class="absolute inset-0 bg-gradient-to-tr from-blue-900/70 via-black/60 to-teal-800/70 z-10"></div>
    <div class="relative z-20 flex flex-col justify-center items-center text-center px-4 fade-in-up">
      <h1 class="text-3xl md:text-5xl font-extrabold mb-6 drop-shadow-lg tracking-tight">
        Descubre la magia de Roatán: Aventura, sol y momentos inolvidables.
      </h1>
      <p class="text-base md:text-xl mb-8 max-w-2xl text-white/90">
        Explora arrecifes, delfines, snorkeling, pesca deportiva, nada con tiburones nodriza, mantarrayas, visita manglares y mucho más con los mejores tours guiados por Capt. Wayne.
      </p>
      <div class="flex flex-wrap justify-center gap-4 mb-12">
        <a href="tours.html" class="bg-yellow-400 text-gray-900 px-6 py-3 rounded-full font-semibold hover:bg-yellow-300 shadow-lg transition transform hover:scale-105">Explora Tours</a>
        <a href="calendario.html" class="bg-white/20 border border-white px-6 py-3 rounded-full font-semibold hover:bg-white/30 transition transform hover:scale-105">Reserva Ahora</a>
      </div>

      <!-- Carrusel rectangular con object-fit -->
      <div class="w-full max-w-3xl relative" style="height:300px;">
        <div id="carousel" class="overflow-hidden rounded-lg relative h-full">
          <div class="flex transition-transform duration-500 h-full" id="carousel-inner">
            <img src="fotos/3EC1D8A9-E773-4DE5-B979-B46F5061A687.jpeg" alt="Arrecife 1">
            <img src="fotos/5497ACDC-952D-4CA3-AA3B-7BFE9D8C2FEE_1_201_a.jpeg" alt="Arrecife 2">
            <img src="fotos/WhatsApp Image 2025-06-29 at 16.04.26.jpeg" alt="Arrecife 3">
          </div>
          <button id="prev" class="absolute top-1/2 left-2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70">&larr;</button>
          <button id="next" class="absolute top-1/2 right-2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70">&rarr;</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección Tours -->
  <section id="servicios" class="scroll-mt-20 bg-white text-gray-800 py-16 px-4 md:px-20">
    <h2 class="text-3xl font-bold text-center text-teal-700 mb-8">Nuestros Tours</h2>
    <p class="max-w-3xl mx-auto text-center text-base md:text-lg">
      Descubre lo mejor de Roatán: tours en arrecifes, aventuras en banana boat, pesca deportiva, buceo y más.
    </p>
  </section>

  <!-- Sección Contacto -->
  <section id="contacto" class="scroll-mt-20 bg-gray-100 text-gray-800 py-16 px-4 md:px-20">
    <h2 class="text-3xl font-bold text-center text-teal-700 mb-8">Reserva tu Aventura</h2>
    <p class="max-w-2xl mx-auto text-center text-base md:text-lg mb-6">
      Contáctanos para reservar tu tour ideal. Estamos aquí para ayudarte a planear tu experiencia inolvidable.
    </p>
    <div class="text-center">
      <a href="contacto.html" class="inline-block bg-teal-700 text-white px-6 py-3 rounded-full font-semibold hover:bg-teal-600 transition">Ir al Formulario de Contacto</a>
    </div>
  </section>

  <!-- JS -->
  <script>
    // Carrusel
    const carouselInner = document.getElementById('carousel-inner');
    const slides = carouselInner.children;
    let index = 0;
    function showSlide(i){ index=(i+slides.length)%slides.length; carouselInner.style.transform=`translateX(-${index*100}%)`; }
    document.getElementById('prev').addEventListener('click',()=>showSlide(index-1));
    document.getElementById('next').addEventListener('click',()=>showSlide(index+1));
    setInterval(()=>showSlide(index+1),5000);

    // Manejo de perfil y registro
    function safeParseUser(str){ try{return JSON.parse(str);}catch(e){return {fullname:String(str)}} }
    function createProfileLi(userObj){
      const li=document.createElement('li'); li.id='li-profile'; li.className='profile-container';
      const btn=document.createElement('button'); btn.id='profile-toggle'; btn.className='profile-btn';
      btn.setAttribute('aria-haspopup','true'); btn.setAttribute('aria-expanded','false'); btn.title=userObj.fullname?'Perfil de '+userObj.fullname:'Perfil';
      btn.innerHTML=`<svg viewBox="0 0 64 64" width="28" height="28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="32" cy="32" r="30" stroke="currentColor" stroke-width="4"/>
        <circle cx="32" cy="22" r="8" stroke="currentColor" stroke-width="4" fill="none"/>
        <path d="M12 48c4-8 12-12 20-12s16 4 20 12" stroke="currentColor" stroke-width="4" fill="none" stroke-linecap="round"/>
      </svg>`;
      const dropdown=document.createElement('div'); dropdown.id='profile-dropdown'; dropdown.className='profile-dropdown';
      dropdown.innerHTML=`<a href="perfil.html">Mi perfil</a><a href="misreservas.html">Mis reservas</a><a href="configuracion.html">Configuración</a><button id="logout-btn">Cerrar sesión</button>`;
      li.appendChild(btn); li.appendChild(dropdown); return li;
    }
    function closeAllDropdowns(){ const dd=document.getElementById('profile-dropdown'); const toggle=document.getElementById('profile-toggle'); if(dd)dd.style.display='none'; if(toggle)toggle.setAttribute('aria-expanded','false'); }
    function updateMenu(){
      const raw=localStorage.getItem('loggedUser'); const liRegister=document.getElementById('li-register');
      const oldProfileLi=document.getElementById('li-profile'); if(oldProfileLi) oldProfileLi.remove();
      if(raw){ if(liRegister) liRegister.style.display='none'; const userObj=safeParseUser(raw); const profileLi=createProfileLi(userObj);
        document.getElementById('main-menu').appendChild(profileLi);
        const toggleBtn=document.getElementById('profile-toggle'); const dropdown=document.getElementById('profile-dropdown');
        toggleBtn.addEventListener('click',e=>{ e.stopPropagation(); const isShown=dropdown.style.display==='block'; closeAllDropdowns(); dropdown.style.display=isShown?'none':'block'; toggleBtn.setAttribute('aria-expanded',(!isShown).toString()); });
        document.getElementById('logout-btn').addEventListener('click',e=>{ e.preventDefault(); localStorage.removeItem('loggedUser'); updateMenu(); });
      } else { if(liRegister) liRegister.style.display='inline-block'; closeAllDropdowns(); }
    }
    window.addEventListener('click',e=>{ const profileLi=document.getElementById('li-profile'); if(profileLi && !profileLi.contains(e.target)) closeAllDropdowns(); });
    window.addEventListener('keydown',e=>{ if(e.key==='Escape') closeAllDropdowns(); });
    document.addEventListener('DOMContentLoaded',updateMenu);
  </script>
</body>
</html>
